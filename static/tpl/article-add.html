<div class="row">
    <div class="page-header">
      <h4>添加文章</h4>
    </div>
    <div class="span6">
        <h3 ng-hide="markdownHelp">{{filterTitle}}</h3>
        <div id="wmd-preview" class="wmd-preview" ng-hide="markdownHelp">
        </div>
        <div ng-show="markdownHelp">
            {{markdownHelp}}
        </div>
    </div>
    <div class="span6">
        <div class="alert alert-error" ng-show="err">
            <button type="button" class="close" ng-click="err=null">&times;</button>
            <strong>{{err.name}}：</strong>
            {{err.message}}
        </div>
        <form name="addArticle">
            <label>
                文章标题
            </label>
            <span class="text-warning">
                [必填，{{global.TitleMinLen}} 到 {{global.TitleMaxLen}} 字节，当前 {{titleBytes}} 字节]
            </span>
            <input class="input-block-level" type="text" placeholder="文章标题" name="title"
            ng-model="title" ng-change="checkTitle()" required/>
            <label>
                文章来源
            </label>
            <span class="text-warning">[如转载文章，请填完整的原文URL地址]</span>
            <input class="input-block-level" type="url" placeholder="原文URL" name="refer"
            ng-model="refer" />
            <label class="control-label">
                文章内容
            </label>
            <span class="text-warning">
                [必填，markdown语法，{{global.ContentMinLen}} 到 {{global.ContentMaxLen}} 字节，当前 {{contentBytes}} 字节]
            </span>
            <div id="wmd-button-bar">
            </div>
            <textarea class="wmd-input" id="wmd-input" ng-model="content" rows="12" ng-change="checkContent()"
            required>
            </textarea>
            <label>
                文章标签
            </label>
            <span class="text-warning">[最多设置 {{global.ArticleTagsMax}} 个标签]</span>
            <input type="text" name="tagsList" ng-model="tagsList" ng-list="/[,，\s]/"
            ng-change="checkTags()" class="input-block-level" />
            <div class="well well-small">
                <ul class="list-inline">
                    <span>热门标签：</span>
                    <li ng-repeat="tag in global.tagsList"><a href="#" ng-click="getTag()" class="btn btn-small" >{{tag.tag}}</a></li>
                </ul>
            </div>
            <div class="btn-toolbar well well-small">
                <div class="btn-group">
                    <button type="button" ng-click="submit()" class="btn btn-primary" ng-disabled="">提    交</button>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-success" ng-click="wmdHelp('preview')">文章预览</button>
                    <button type="button" class="btn btn-success" ng-click="wmdHelp('help')">markdown语法</button>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="/static/?parse=/js/pagedown/Markdown.Converter.js|/js/pagedown/Markdown.Editor.js|/js/pagedown/Markdown.Sanitizer.js">
</script>
<script type="text/javascript">
    (function() {
        var converter = Markdown.getSanitizingConverter();
        var editor = new Markdown.Editor(converter);
        editor.run();
    })();
</script>
